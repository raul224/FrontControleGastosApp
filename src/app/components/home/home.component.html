<p-toolbar class="header">
  <div class="p-toolbar-group-start">
    <span>
      <i class="pi pi-prime" style="font-size: 2rem"></i>
      <a>Controle de Gastos</a>
    </span>
    <span *ngIf="logado">
      <p-button class="consultarBtn" (click)="ConsultaAnteriorDialog()">
        <i class="pi pi-search" style="font-size: 1rem"></i>
        <a>Consultar lançamentos</a>
      </p-button>
    </span>
    <span>
      {{user.name}} seu saldo é de {{user.balance}}
    </span>
  </div>
  <div class="p-toolbar-group-end">
    <span *ngIf="logado">
      <p-button (click)="Sair()">
        <i class="pi pi-sign-out" style="font-size: 1rem"></i>
      </p-button>
    </span>
  </div>
</p-toolbar>
<div class="justify-content-center grid card">
  <div class="col-12 sm:col-6 md:col-4">
    <p-card>
      <div class="grid">
        <div class="col-12">
          <h2>Cadastro de lançamentos</h2>
        </div>
        <div class="col-12">
          <div class="col-12">
            <div class="p-inputgroup">
            <span class="p-inputgroup-addon">
              <i class="pi pi-list"></i>
            </span>
              <input [(ngModel)]="flowCreationModel.description" pInputText id="descricao" type="text" placeholder="Descricao"/>
            </div>
          </div>
          <div class="col-12">
            <div class="p-inputgroup">
            <span class="p-inputgroup-addon">
              <i class="pi pi-money-bill"></i>
            </span>
              <input [(ngModel)]="flowCreationModel.value" pInputText id="valor" type="number" placeholder="Valor"/>
            </div>
          </div>
          <div class="col-12">
            <div class="p-inputgroup">
            <span class="p-inputgroup-addon">
              <i class="pi pi-calendar"></i>
            </span>
              <input [(ngModel)]="flowCreationModel.date" pInputText id="date" type="date" placeholder="Date"/>
            </div>
          </div>
          <div class="col-12">
            <p-dropdown [options]="flowTypeRecord" [(ngModel)]="selectedFlow"></p-dropdown>
          </div>
          <div class="col-6">
            <p-button pRipple label="Cadastrar" icon="pi pi-plus"
            (click)="CadastraLancamento()" class="w-full border-round">
            </p-button>
          </div>
        </div>
      </div>
    </p-card>
    <p-card header="{{flow.description}}" *ngFor="let flow of flows" ngClass="flowCard">
      <div class="grid">
        <div class="col-6">
          <p class="m-0">Valor: {{flow.value}}</p>
          <p class="m-0">Data: {{flow.date}}</p>
          <p class="m-0">Tipo: {{flow.flowType}}</p>
        </div>
        <div class="col-6" style="text-align: right;">
          <p-button icon="pi pi-trash" class="w-full border-round>" (click)="DeletarLancamento(flow.id)"></p-button>
        </div>
      </div>
    </p-card>
  </div>
</div>
